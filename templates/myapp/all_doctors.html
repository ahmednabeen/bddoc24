<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Doctors</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styles matching your design system -->
    <style>
        :root {
            --bg: #f8fafc;
            --fg: #0f172a;
            --muted: #64748b;
            --accent: #3b82f6;
            --card: #ffffff;
            --border: #e2e8f0;
            --bccent: #6366f1;
        }
        body {
            background-color: var(--bg);
            color: var(--fg);
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .bg-bg { background-color: var(--bg); }
        .text-fg { color: var(--fg); }
        .text-muted { color: var(--muted); }
        .text-bccent { color: var(--bccent); }
        .bg-card { background-color: var(--card); }
        .border-border { border-color: var(--border); }
        .hover\:border-accent:hover { border-color: var(--accent); }
        .hover\:text-accent:hover { color: var(--accent); }
        
        .card-hover {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        .specialty-tab.active {
            background-color: #eff6ff;
            color: #2563eb;
            border-color: #2563eb;
        }

        /* Pagination Styles */
        .page-btn {
            min-width: 40px;
            height: 40px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem; /* rounded-lg */
            border: 1px solid var(--border);
            font-weight: 500;
            transition: all 0.15s ease;
        }
        .page-btn:hover:not(.active):not(:disabled) {
            background-color: #f1f5f6;
            border-color: var(--fg);
        }
        .page-btn.active {
            background-color: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <!-- Header/Navbar -->
    <nav class="bg-white border-b border-border sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <span class="font-bold text-xl text-fg">DocBD</span>
            <div class="flex gap-4">
                <a href="#" class="text-muted hover:text-fg transition">Home</a>
                <a href="#" class="text-fg font-semibold border-b-2 border-accent">Doctors</a>
            </div>
        </div>
    </nav>

    <!-- Main Page Content -->
    <section class="py-12 sm:py-16 bg-bg min-h-screen">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <!-- Page Header -->
            <div class="mb-10">
                <h1 class="font-display font-bold text-3xl sm:text-4xl text-fg mb-2">All Doctors</h1>
                <p class="text-muted text-lg">Find and book appointments with the best doctors in Bangladesh.</p>
            </div>

            <!-- Filters & Search Bar -->
            <div class="flex flex-col lg:flex-row gap-4 mb-8">
                <div class="relative flex-grow">
                    <span class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                        <svg class="w-5 h-5 text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </span>
                    <input type="text" id="searchInput" placeholder="Search doctor by name..." 
                    class="w-full pl-12 pr-4 py-3 bg-card border-2 border-border rounded-xl focus:outline-none focus:border-accent transition-colors text-fg placeholder:text-muted"
                    onkeyup="handleSearch()">
                </div>
                <select id="locationFilter" class="px-4 py-3 bg-card border-2 border-border rounded-xl focus:outline-none focus:border-accent text-muted font-medium appearance-none cursor-pointer" onchange="handleSearch()">
                    <option value="">All Locations</option>
                    <option value="Dhaka">Dhaka</option>
                    <option value="Chittagong">Chittagong</option>
                </select>
            </div>

            <!-- Specialty Tabs -->
            <div class="flex flex-wrap gap-2 mb-10 pb-4 border-b border-border" id="tabContainer">
                <button class="specialty-tab active px-5 py-2.5 rounded-full border border-border font-medium text-sm" onclick="filterDoctors('all', this)">All</button>
                <button class="specialty-tab px-5 py-2.5 rounded-full border border-border font-medium text-sm text-muted hover:text-fg hover:border-fg/30 transition-all" onclick="filterDoctors('cardiology', this)">Cardiology</button>
                <button class="specialty-tab px-5 py-2.5 rounded-full border border-border font-medium text-sm text-muted hover:text-fg hover:border-fg/30 transition-all" onclick="filterDoctors('neurology', this)">Neurology</button>
                <button class="specialty-tab px-5 py-2.5 rounded-full border border-border font-medium text-sm text-muted hover:text-fg hover:border-fg/30 transition-all" onclick="filterDoctors('orthopedics', this)">Orthopedics</button>
                <button class="specialty-tab px-5 py-2.5 rounded-full border border-border font-medium text-sm text-muted hover:text-fg hover:border-fg/30 transition-all" onclick="filterDoctors('pediatrics', this)">Pediatrics</button>
                <button class="specialty-tab px-5 py-2.5 rounded-full border border-border font-medium text-sm text-muted hover:text-fg hover:border-fg/30 transition-all" onclick="filterDoctors('dermatology', this)">Dermatology</button>
            </div>

            <!-- Doctor Cards Grid -->
            <div id="doctorGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                <!-- Cards will be injected here by JS -->
            </div>

            <!-- Pagination -->
            <div id="paginationContainer" class="flex flex-wrap justify-center items-center gap-2">
                <!-- Pagination buttons will be injected here by JS -->
            </div>

        </div>
    </section>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Dummy Data Generation (Simulating a large dataset) ---
        // We generate 88 pages worth of data * 12 items = ~1050 doctors to match your pagination request.
        // In a real app, this would come from an API.
        
        const specialties = ['cardiology', 'neurology', 'orthopedics', 'pediatrics', 'dermatology'];
        const locations = ['Dhaka', 'Chittagong', 'Sylhet', 'Rajshahi'];
        const images = [
            "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=300&h=300&fit=crop&crop=face",
            "https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=300&h=300&fit=crop&crop=face",
            "https://images.unsplash.com/photo-1594824476967-48c8b964273f?w=300&h=300&fit=crop&crop=face",
            "https://images.unsplash.com/photo-1537368910025-700350fe46c7?w=300&h=300&fit=crop&crop=face",
            "https://images.unsplash.com/photo-1651008376811-b90baee60c1f?w=300&h=300&fit=crop&crop=face",
            "https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=300&h=300&fit=crop&crop=face"
        ];
        
        let allDoctors = [];

        // Generate dummy data
        for (let i = 1; i <= 1050; i++) {
            const spec = specialties[Math.floor(Math.random() * specialties.length)];
            const loc = locations[Math.floor(Math.random() * locations.length)];
            const img = images[Math.floor(Math.random() * images.length)];
            
            allDoctors.push({
                id: i,
                name: `Dr. Doctor Name ${i}`,
                specialty: spec.charAt(0).toUpperCase() + spec.slice(1),
                location: loc,
                image: img,
                rating: (Math.random() * (5.0 - 4.0) + 4.0).toFixed(1),
                reviews: Math.floor(Math.random() * 500),
                category: spec
            });
        }

        // --- 2. State Variables ---
        let currentPage = 1;
        const itemsPerPage = 12;
        let filteredDoctors = [...allDoctors]; // Start with all doctors

        // --- 3. Render Functions ---

        function renderDoctors() {
            const grid = document.getElementById('doctorGrid');
            grid.innerHTML = '';

            // Calculate slice
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageItems = filteredDoctors.slice(start, end);

            if (pageItems.length === 0) {
                grid.innerHTML = '<div class="col-span-3 text-center py-16 text-muted">No doctors found matching your criteria.</div>';
                return;
            }

            pageItems.forEach(doc => {
                const card = `
                <div class="doctor-card bg-card rounded-2xl overflow-hidden border border-border card-hover">
                    <div class="p-6">
                        <div class="flex gap-4">
                            <img src="${doc.image}" alt="${doc.name}" class="w-20 h-20 rounded-xl object-cover flex-shrink-0">
                            <div class="flex-1 min-w-0">
                                <div class="flex items-start justify-between gap-2">
                                    <h3 class="font-display font-semibold text-lg text-fg truncate">${doc.name}</h3>
                                    <span class="flex-shrink-0 w-2 h-2 rounded-full bg-green-500 mt-2"></span>
                                </div>
                                <p class="text-bccent font-medium text-sm">${doc.specialty} Specialist</p>
                                <p class="text-muted text-sm mt-1 truncate">${doc.location} Medical Center</p>
                                <div class="flex items-center gap-1 mt-2">
                                    <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                                    <span class="text-sm font-medium text-fg">${doc.rating}</span>
                                    <span class="text-sm text-muted">(${doc.reviews})</span>
                                </div>
                            </div>
                        </div>
                        <button class="w-full mt-4 py-3 border-2 border-border bg-blue-100 text-fg font-bold rounded-xl hover:border-accent hover:text-accent transition-all active:scale-[0.98]">View Detail</button>
                    </div>
                </div>`;
                grid.innerHTML += card;
            });
        }

        function renderPagination() {
            const container = document.getElementById('paginationContainer');
            container.innerHTML = '';

            const totalPages = Math.ceil(filteredDoctors.length / itemsPerPage);
            
            // Helper to create button
            const createBtn = (text, pageNum, isDisabled = false, isActive = false) => {
                const btn = document.createElement('button');
                btn.className = `page-btn ${isActive ? 'active' : ''} text-fg`;
                btn.innerText = text;
                btn.disabled = isDisabled;
                if (!isDisabled && !isActive && pageNum) {
                    btn.onclick = () => goToPage(pageNum);
                }
                return btn;
            };

            // Previous Button
            container.appendChild(createBtn('Previous', currentPage - 1, currentPage === 1));

            // Page Number Logic (Previous 1 2 3 ...... 87 88 Next)
            // We want: [1] [2] [3] ... [n-1] [n]
            
            // 1. Always show first 3 pages
            for (let i = 1; i <= Math.min(3, totalPages); i++) {
                container.appendChild(createBtn(i, i, false, i === currentPage));
            }

            // 2. Ellipsis logic
            if (totalPages > 6) {
                // If current page is far from start, show first ellipsis
                if (currentPage > 4) {
                    const dots = document.createElement('span');
                    dots.className = 'px-2 text-muted';
                    dots.innerText = '......';
                    container.appendChild(dots);
                }

                // 3. Show pages around current page (if not already shown in first 3)
                // Simplified to just showing the logic requested: start ... end.
                // The request was specific: "1 2 3 ...... 87 88"
                // But we need to allow clicking near the current page too for usability.
                // Let's implement the "Previous 1 2 3 ...... 87 88 Next" pattern strictly 
                // but ensure the current page is visible if it's in the middle.
                
                // Reset logic to match exact visual request:
                // Show 1,2,3 -> Dots -> Last two
                
                // We already rendered 1,2,3. 
                // If we are in the middle of the list, we might want to jump.
                // Let's stick to the pattern: 1 2 3 ... 87 88
                
                // If totalPages > 3, add dots
                const dots = document.createElement('span');
                dots.className = 'px-2 text-muted';
                dots.innerText = '......';
                
                // Only add dots if there is a gap between 3 and the end
                if (totalPages > 6) {
                    container.appendChild(dots);
                }

                // 4. Show last two pages
                for (let i = totalPages - 1; i <= totalPages; i++) {
                    if (i > 3) { // Don't duplicate 1,2,3
                        container.appendChild(createBtn(i, i, false, i === currentPage));
                    }
                }
            } else if (totalPages > 3) {
                // If less than 7 pages, just show all remaining numbers (4, 5, 6...)
                for (let i = 4; i <= totalPages; i++) {
                    container.appendChild(createBtn(i, i, false, i === currentPage));
                }
            }

            // Next Button
            container.appendChild(createBtn('Next', currentPage + 1, currentPage === totalPages));
        }

        // --- 4. Handlers ---

        function goToPage(page) {
            currentPage = page;
            renderDoctors();
            renderPagination();
            // Scroll to top of grid smoothly
            document.getElementById('doctorGrid').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function filterDoctors(category, element) {
            // Update Tab UI
            document.querySelectorAll('.specialty-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('text-muted');
            });
            element.classList.add('active');
            element.classList.remove('text-muted');

            // Filter Data
            currentPage = 1; // Reset to page 1
            if (category === 'all') {
                filteredDoctors = [...allDoctors];
            } else {
                filteredDoctors = allDoctors.filter(d => d.category === category);
            }
            
            // Re-render
            renderDoctors();
            renderPagination();
        }

        function handleSearch() {
            const term = document.getElementById('searchInput').value.toLowerCase();
            const loc = document.getElementById('locationFilter').value;

            currentPage = 1;
            
            filteredDoctors = allDoctors.filter(d => {
                const matchName = d.name.toLowerCase().includes(term);
                const matchLoc = loc ? d.location === loc : true;
                return matchName && matchLoc;
            });

            // Reset tabs visually
            document.querySelectorAll('.specialty-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('text-muted');
            });
            document.querySelector('.specialty-tab').classList.add('active'); // "All" tab

            renderDoctors();
            renderPagination();
        }

        // Initial Load
        renderDoctors();
        renderPagination();

    </script>
</body>
</html>